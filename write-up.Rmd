---
title: "Human Development and Procrastination"
author: "Jeffrey Weltman and Jordan Kassof"
date: "11/26/2017"
output:
  html_document:
    toc: true
    keep_md: true
---

```{r echo=FALSE}
knitr::opts_chunk$set(fig.align = 'center')
```
# Introduction
***

Some info about high-level project info and goals

# Data Sources
***

This analysis was conducted using two data sources. See below for details about each.

### Procrastionation Data

Qualtrics data, very rough around the edges, various assumptions made. See codebook for details of all columns.

### Human Development Index Data

The Human Development Index (HDI) is a statistic created and distributed by the United Nations. It is a composite statistic derived using indicators for education, life expectancy, and income per capita. This score can be viewed as the potential for human development and prosperity in a given country. We access this data with an R script that scrapes the HDI Wikipedia page. 

# Data Importing & Merging
***

The below codechunk sources the data cleaning script for our procrastination data. See the script for details of how the file was cleaned.
```{r, message=FALSE, warning=FALSE}
library(knitr)
library(kableExtra)
source("analysis/ProcrastinationData-ImportAndTidying.R")
kable(procrastination_dims,"html",row.names=FALSE) %>%
  kable_styling(bootstrap_options = c("striped","condensed"), 
                full_width=F, 
                position="left")
```

The below codechunk sources the wikipedia scraping script for HDI data. This script will pick up and save any changes in the wikipedia tables. See the script for details of how the data is scraped.
```{r, message=FALSE}
source("data/hdi-wiki-scrape.R")
```


The below codechunk merges the two datasets and saves a copy to the /data directory. See script for details of how data sets are merged.
```{r}
source("data/merging-hdi-and-procrastination.R")
```

# Preliminary Analysis
***

Below we source our preliminary analysis script. See script for details of how data is summarized for the following tables and histograms.
```{r}
source("analysis/q4-analysis.R")
```

### Summary Statistics

```{r}
# Print display friendly table of summary statistics for key variables
kable(summary_list, 
      col.names = c("Variable", "Min Value", "1st Quartile",
                    "Median", "Mean", "3rd Quartile", 
                    "Max Value", "Missing Count"), 
      digits = 2, 
      format = "html",
      format.args = list(scientific = FALSE)) %>%
  kable_styling(bootstrap_options = c("striped","condensed"), 
                full_width=F, 
                position="left")
```

### Select Histograms

```{r}
library(ggplot2)
ggplot(data = na.omit(all_data), aes(x = Age)) +
  geom_histogram(bins = 10, fill = "powderblue") +
  xlab("Participant Age") +
  ylab("Count") +
  ggtitle("Distribution of Participant's Age") +
  theme(
    plot.title = element_text(hjust = .5)
  )
```

The above distribution indicates our participant's age skews a bit to the right. The majority of our participants are in the 20-40 range although we have participants in age as high as 80.

```{r}
ggplot(data = na.omit(all_data), aes(x = DPMean)) +
  geom_histogram(bins = 20, fill = "powderblue") +
  xlab("Mean Decisional Procrastination Score") +
  ylab("Count") +
  ggtitle("Distribution of Participant's Mean Decisional Procrastination") +
  theme(
    plot.title = element_text(hjust = .5)
  )

```

The above distribution of mean decisional procrastination is roughly symetric around 3. The data aren't very normal, the decrease in count as you get further from the center is too slow to be normal.

### Key Variables Frequency Tables

##### Gender
```{r}
kable(gender_freqs, format = "html", col.names = c("Gender", "Participants")) %>%
    kable_styling(bootstrap_options = c("striped","condensed"), 
                            full_width=F, 
                            position="left")
```

##### Work Status

```{r}
kable(workstatus_freqs, format = "html", col.names = c("Work Status", "Participants")) %>%
    kable_styling(bootstrap_options = c("striped","condensed"), 
                            full_width=F, 
                            position="left")
```

##### Occupation

```{r}
kable(occu_freqs, format = "html", col.names = c("Occupation", "Participants")) %>%
    kable_styling(bootstrap_options = c("striped","condensed"), 
                            full_width=F, 
                            position="left")
```

##### Participants by Country

```{r}
kable(pcpts_per_country, format = "html") %>%
    kable_styling(bootstrap_options = c("striped","condensed"), 
                            full_width=F, 
                            position="left")
```

##### Internal vs External Perception

```{r}
kable(matching_perception, format = "html") %>%
    kable_styling(bootstrap_options = c("striped","condensed"), 
                            full_width=F, 
                            position="left")
```

Per the above frequency table, 482/4026 don't view themselves as procrastinators AND believe other's don't view them as such either. Conversely, 2358 participants said they self-identify as procrastinators AND believe other's view them the same.

# Deep Dive
***
